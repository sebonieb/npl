<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>NPL</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 900px;
      margin: auto;
      background-color: #fafafa;
    }
    select, textarea, summary {
      width: 100%;
      margin: 10px 0;
      padding: 10px;
      font-size: 15px;
    }
    input[type="number"] {
      width: 100px;
      padding: 10px;
      font-size: 15px;
      margin-left: 10px;
    }
    textarea {
      height: 400px;
      font-size: 14px;
      line-height: 1.5;
      white-space: pre-line;
    }
    button {
      background-color: #ccc;
      color: #000;
      border: none;
      cursor: pointer;
      padding: 10px 20px;
      margin-right: 10px;
      font-size: 14px;
    }
    button:hover {
      background-color: #bbb;
    }
    .button-row {
      display: flex;
      align-items: center;
      margin: 10px 0;
    }
    .info-row {
      display: flex;
      align-items: center;
      gap: 15px;
      margin: 10px 0;
    }
    .copy-msg {
      color: green;
      font-weight: bold;
      display: none;
      margin-left: 10px;
    }
    span.gr {
      color: green;
      font-weight:bold;
    }
    span.re {
      color:red;
      font-weight:bold;
    }
  </style>
</head>
<body>

  <div class="info-row">
    <label><input type="radio" name="plec" value="M" checked> M</label>
    <label><input type="radio" name="plec" value="K"> K</label>
    <input type="number" id="wiek" placeholder="Wiek">
  </div>

  <select id="chorobaSelect" onchange="wstawOpisChoroby()">
  <option value="">-- wybierz --</option>

  <optgroup label="ü´Å Uk≈Çad oddechowy">
    <option value="astma">Astma</option>
    <option value="bol_gardla">B√≥l gard≈Ça</option>
    <option value="infekcja">Infekcja dr√≥g oddechowych</option>
    <option value="pochp">POChP</option>
    <option value="zapalenie_oskrzeli">Zapalenie oskrzeli</option>
    <option value="zapalenie_pluc">Zapalenie p≈Çuc</option>
  </optgroup>

  <optgroup label="‚ù§Ô∏è Uk≈Çad sercowo-naczyniowy">
    <option value="bol_klatki">B√≥l w klatce piersiowej</option>
    <option value="nadcisnienie">Nadci≈õnienie tƒôtnicze</option>
  </optgroup>

  <optgroup label="üß† Uk≈Çad nerwowy">
    <option value="rwa_kulszowa">Rwa kulszowa</option>
    <option value="zawroty_glowy">Zawroty g≈Çowy</option>
  </optgroup>

  <optgroup label="üßç‚Äç‚ôÇÔ∏è Uk≈Çad ruchu / miƒô≈õniowo-szkieletowy">
    <option value="bol_kregoslupa">B√≥l krƒôgos≈Çupa</option>
    <option value="bol_szyi">B√≥l karku</option>
  </optgroup>

  <optgroup label="üëÇ NarzƒÖdy zmys≈Ç√≥w">
    <option value="bol_ucha">B√≥l ucha</option>
    <option value="zapalenie_oka">Zapalenie oka</option>
  </optgroup>

  <optgroup label="üçΩ Uk≈Çad pokarmowy">
    <option value="biegunka">Biegunka</option>
    <option value="bol_brzucha">B√≥l brzucha</option>
    <option value="dna_moczanowa">Dna moczanowa</option>
    <option value="wymioty">Wymioty</option>
    <option value="zapalenie_jamy_ustnej">Zapalenie jamy ustnej</option>
  </optgroup>

  <optgroup label="üßë‚Äçü¶≤ Uk≈Çad moczowo-p≈Çciowy">
    <option value="cewnikowanie">Cewnikowanie</option>
    <option value="kolka_nerkowa">Kolka nerkowa</option>
    <option value="zapalenie_nerek">Ostre odmiedniczkowe zapalenie nerek</option>
    <option value="zapalenie_pecherza">Zapalenie pƒôcherza</option>
  </optgroup>

  <optgroup label="ü¶† Immunologia i ukƒÖszenia">
    <option value="alergia">Alergia</option>
    <option value="ugryzienie_kleszcz">Ugryzienie przez kleszcza</option>
    <option value="ugryzienie_kot">Ugryzienie przez kota</option>
    <option value="ugryzienie_owad">Ugryzienie przez owada</option>
    <option value="ugryzienie_pies">Ugryzienie przez psa</option>
  </optgroup>

  <optgroup label="üß™ Metabolizm i endokrynologia">
    <option value="hiperglikemia">Hiperglikemia</option>
  </optgroup>

  <optgroup label="‚ö∞ Inne / stany nag≈Çe">
    <option value="zgon">Zgon</option>
  </optgroup>
</select>
   <textarea id="chorobaOpis" placeholder="Tu pojawi siƒô opis..." readonly></textarea>

  <div class="button-row">
    <button onclick="wstawOpisChoroby()">Generuj opis</button>
    <button onclick="resetForm()">Wyczy≈õƒá</button>
    <button onclick="kopiujOpis()">Kopiuj opis</button>
    <span id="copyMsg" class="copy-msg">‚úì Skopiowano!</span>
  </div>

 <details id="ekgDetails">
  <summary onclick="scrollToEkg()">Zasady opisu EKG</summary>
<table style="border-collapse: collapse; width: 100%; font-family: sans-serif;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th style="border: 1px solid #ccc; padding: 8px; text-align: left;">Kryterium</th>
      <th style="border: 1px solid #ccc; padding: 8px; text-align: left;">Opis</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border: 1px solid #ccc; padding: 8px;">Rytm zatokowy</td>
      <td style="border: 1px solid #ccc; padding: 8px;">Za≈Çamki P <span class="gr">II+</span> oraz <span class="re">aVR-</span></td>
    </tr>
    <tr>
      <td style="border: 1px solid #ccc; padding: 8px;">O≈õ serca</td>
      <td style="border: 1px solid #ccc; padding: 8px;">
        Prawogram: <span class="gr">I+ aVF+</span> lub <span class="gr">I+</span> <span class="re">aVF-</span> <span class="gr">II+</span><br>
        Lewogram: <span class="gr">I+</span> <span class="re">aVF- II-</span><br>
        Prawogram: <span class="re">I-</span> <span class="gr">aVF+</span><br>
        O≈õ nieokre≈õlona: <span class="re">I- aVF-</span>
      </td>
    </tr>
    <tr>
      <td style="border: 1px solid #ccc; padding: 8px;">Blok p-k I stopnia</td>
      <td style="border: 1px solid #ccc; padding: 8px;">Odstƒôp PQ stale &gt;200ms (5 ma≈Çych kratek)</td>
    </tr>
    <tr>
      <td style="border: 1px solid #ccc; padding: 8px;">Blok p-k II stopnia</td>
      <td style="border: 1px solid #ccc; padding: 8px;">
        Typ I: wyd≈Çu≈ºajƒÖcy siƒô PQ, a≈º do wypadniƒôcia QRS<br>
        Typ II: sta≈Çy PQ, okresowo wypada QRS
      </td>
    </tr>
    <tr>
      <td style="border: 1px solid #ccc; padding: 8px;">Blok p-k III stopnia</td>
      <td style="border: 1px solid #ccc; padding: 8px;">Zmienny czas PQ, r√≥≈ºna morfologia QRS, rytm kom√≥r wolniejszy od przedsionk√≥w</td>
    </tr>
    <tr>
      <td style="border: 1px solid #ccc; padding: 8px;">RBBB / LBBB</td>
      <td style="border: 1px solid #ccc; padding: 8px;">
        QRS &ge; 120ms (3 ma≈Çe kratki): 
        <a href="https://www.poz1.pl/jednostki/e411bae1-653c-44da-9a13-9588a33a3c4c" target="_blank">LINK</a>
      </td>
    </tr>
    <tr>
      <td style="border: 1px solid #ccc; padding: 8px;">LAH</td>
      <td style="border: 1px solid #ccc; padding: 8px;">QRS &lt; 120ms; Lewogram</td>
    </tr>
    <tr>
      <td style="border: 1px solid #ccc; padding: 8px;">LPH</td>
      <td style="border: 1px solid #ccc; padding: 8px;">QRS &lt; 120ms; Prawogram</td>
    </tr>
  </tbody>
</table>
  </details>
    <script>
    const opisTemp = `\n\nTemp. st C, BP / mmHg, RR /min, SpO2 %.\n`;
    const opisBadanieBase = {
      M: `Stan og√≥lny dobry, pacjent wydolny krƒÖ≈ºeniowo-oddechowo, w kontakcie logicznym. Akcja serca miarowa, bez wyra≈∫nie s≈Çyszalnych szmer√≥w patologicznych. Szmer pƒôcherzykowy symetryczny obustronnie nad polami p≈Çucnymi. Brzuch miƒôkki, niebolesny, bez opor√≥w patologicznych, bez objaw√≥w otrzewnowych. Perystaltyka zachowana. Objaw Blumberga ujemny.`,
      K: `Stan og√≥lny dobry, pacjentka wydolna krƒÖ≈ºeniowo-oddechowo, w kontakcie logicznym. Akcja serca miarowa, bez wyra≈∫nie s≈Çyszalnych szmer√≥w patologicznych. Szmer pƒôcherzykowy symetryczny obustronnie nad polami p≈Çucnymi. Brzuch miƒôkki, niebolesny, bez opor√≥w patologicznych, bez objaw√≥w otrzewnowych. Perystaltyka zachowana. Objaw Blumberga ujemny.`
    };
    const opisEKG = `\nEKG - rytm serca zatokowy, miarowy o czƒôsto≈õci /min, o≈õ serca po≈õrednia. Bez wyra≈∫nie widocznych specyficznych zmian odcinka ST-T.\n`;
    const zaleceniaStale = `Ambulatoryjnie podano: xxxx\n\nZalecenia:\nxxxx\nW badaniu przedmiotowym nie stwierdzono ewidentnych cech ostrego stanu zagro≈ºenia ≈ºycia. Zalecono obserwacjƒô i kontakt z lekarzem w razie braku poprawy, pogorszenia stanu zdrowia lub wystƒÖpienia niepokojƒÖcych objaw√≥w w tym wystƒÖpienia b√≥lu o charakterze narastajƒÖcym, gorƒÖczki, trudno≈õci w oddychaniu, wymiot√≥w, zaburze≈Ñ ≈õwiadomo≈õci lub innych objaw√≥w alarmowych, o kt√≥rych poinformowano pacjenta. Ponadto przekazano informacjƒô, ≈ºe nieprzestrzeganie zalece≈Ñ lekarskich mo≈ºe prowadziƒá do gro≈∫nych powik≈Ça≈Ñ, w tym utraty zdrowia, a nawet ≈ºycia.`;

    const opisyChorob = {
  astma: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu napadu duszno≈õci. W wywiadzie ≈õwiszczƒÖcy oddech, suchy kaszel, znana astma oskrzelowa.`,

  bol_gardla: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu gard≈Ça nasilajƒÖcego siƒô przy prze≈Çykaniu. W wywiadzie stany podgorƒÖczkowe, kaszel.`,

  infekcja: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu gard≈Ça i objaw√≥w infekcji g√≥rnych dr√≥g oddechowych. W wywiadzie katar, kaszel od 3 dni, bez duszno≈õci.`,

  pochp: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu duszno≈õci i nasilonego kaszlu. W wywiadzie POChP, ≈õwisty os≈Çuchowo.`,

  zapalenie_oskrzeli: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu kaszlu. W wywiadzie kaszel mokry od kilku dni, ≈õwisty os≈Çuchowo, bez duszno≈õci w spoczynku. Temperatura podwy≈ºszona.`,

  zapalenie_pluc: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu kaszlu i gorƒÖczki. W wywiadzie dreszcze, os≈Çabienie, kaszel produktywny.`,

  bol_klatki: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu w klatce piersiowej. W wywiadzie b√≥l niezwiƒÖzany z wysi≈Çkiem, nasilajƒÖcy siƒô przy g≈Çƒôbokim wdechu.`,

  nadcisnienie: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu podwy≈ºszonego ci≈õnienia tƒôtniczego. W wywiadzie b√≥le g≈Çowy, brak duszno≈õci.`,

  rwa_kulszowa: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu promieniujƒÖcego do ko≈Ñczyny dolnej. W wywiadzie nasilenie przy schylaniu.`,

  zawroty_glowy: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu zawrot√≥w g≈Çowy. W wywiadzie brak zaburze≈Ñ mowy, widzenia, niedow≈Çad√≥w.`,

  bol_kregoslupa: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu krƒôgos≈Çupa lƒôd≈∫wiowego. W wywiadzie b√≥l nasila siƒô przy ruchu.`,

  bol_szyi: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu karku. W wywiadzie napiƒôcie miƒô≈õni szyi, ograniczona ruchomo≈õƒá.`,

  bol_ucha: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu ucha. W wywiadzie uczucie zatkania, brak gorƒÖczki.`,

  zapalenie_oka: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu zaczerwienienia i ≈Çzawienia oka. W wywiadzie brak urazu.`,

  biegunka: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu biegunki. W wywiadzie kilka lu≈∫nych stolc√≥w na dobƒô, brak gorƒÖczki.`,

  bol_brzucha: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu brzucha. W wywiadzie b√≥l w nadbrzuszu od 2 dni.`,

  dna_moczanowa: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu i obrzƒôku stawu ≈õr√≥dstopno-paliczkowego. W wywiadzie znana hiperurykemia.`,

  wymioty: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu wymiot√≥w. W wywiadzie b√≥l brzucha i brak apetytu.`,

  zapalenie_jamy_ustnej: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu jamy ustnej i trudno≈õci w po≈Çykaniu.`,

  cewnikowanie: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu zatrzymania moczu. Zakwalifikowano do cewnikowania.`,

  kolka_nerkowa: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu silnego b√≥lu w okolicy lƒôd≈∫wiowej, promieniujƒÖcego do pachwiny.`,

  zapalenie_nerek: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu gorƒÖczki i b√≥lu w okolicy lƒôd≈∫wiowej. W badaniu dodatni objaw Goldflama.`,

  zapalenie_pecherza: `00-letnia pacjentka zg≈Çosi≈Ça siƒô do NPL z powodu pieczenia przy mikcji. W wywiadzie czƒôstomocz, brak gorƒÖczki.`,

  alergia: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu wysypki i ≈õwiƒÖdu sk√≥ry. W wywiadzie kontakt z alergenem.`,

  ugryzienie_kleszcz: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL po ukƒÖszeniu przez kleszcza. Miejsce ukƒÖszenia bez rumienia wƒôdrujƒÖcego.`,

  ugryzienie_kot: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL po ugryzieniu przez kota. Rana oczyszczona, brak cech zaka≈ºenia miejscowego.`,

  ugryzienie_owad: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL po ugryzieniu przez owada. Miejsce ugryzienia zaczerwienione, obrzƒôk.`,

  ugryzienie_pies: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL po pogryzieniu przez psa. Rana oczyszczona, brak gorƒÖczki.`,

  hiperglikemia: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu wysokiego poziomu glukozy we krwi. W wywiadzie cukrzyca typu 2.`,

  zgon: `Stwierdzono zgon. Brak czynno≈õci ≈ºyciowych. Brak akcji serca, brak oddechu, ≈∫renice szerokie, nieruchome, brak reakcji na ≈õwiat≈Ço.`
};
function getGenderSuffixes(gender) {
      return gender === 'K' ? {
        pacjent: 'pacjentka',
        zg≈Çosil_sie: 'zg≈Çosi≈Ça siƒô',
        letni: 'letnia'
      } : {
        pacjent: 'pacjent',
        zg≈Çosil_sie: 'zg≈Çosi≈Ç siƒô',
        letni: 'letni'
      };
    }

    function wstawOpisChoroby() {
      const select = document.getElementById('chorobaSelect');
      const output = document.getElementById('chorobaOpis');
      const wiek = document.getElementById('wiek').value || '00';
      const gender = document.querySelector('input[name="plec"]:checked').value;
      const suf = getGenderSuffixes(gender);

      let opis = opisyChorob[select.value] || '';
      opis = opis
        .replace(/00-letni|00-letnia/, `${wiek}-${suf.letni}`)
        .replace(/\b(pacjentka|pacjent)\b/, suf.pacjent)
        .replace(/(zg≈Çosi≈Ç siƒô|zg≈Çosi≈Ça siƒô)/, suf.zg≈Çosil_sie);

      const pelnyOpis = `${opis}${opisTemp}${opisBadanieBase[gender]}${opisEKG}${zaleceniaStale}`;
      output.value = pelnyOpis;
    }

    function kopiujOpis() {
      const tekst = document.getElementById('chorobaOpis').value;
      const tempTextArea = document.createElement("textarea");
      tempTextArea.value = tekst;
      document.body.appendChild(tempTextArea);
      tempTextArea.select();
      document.execCommand("copy");
      document.body.removeChild(tempTextArea);

      const msg = document.getElementById('copyMsg');
      msg.style.display = 'inline';
      setTimeout(() => msg.style.display = 'none', 2000);
    }

    function resetForm() {
      document.getElementById('chorobaOpis').value = '';
      document.getElementById('chorobaSelect').selectedIndex = 0;
      document.getElementById('wiek').value = '';
      document.querySelector('input[value="M"]').checked = true;
    }
    function scrollToEkg() {
      const el = document.getElementById('ekgDetails');
      setTimeout(() => {
        el.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }, 100); // op√≥≈∫nienie pozwala na rozwiniƒôcie <details>
    }
  </script>
</body>
</html>
