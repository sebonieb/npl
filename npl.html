<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>NPL</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 900px;
      margin: auto;
      background-color: #fafafa;
    }
    select, textarea, summary {
      width: 100%;
      margin: 10px 0;
      padding: 10px;
      font-size: 15px;
    }
    input[type="number"] {
      width: 100px;
      padding: 10px;
      font-size: 15px;
      margin-left: 10px;
    }
    textarea {
      height: 400px;
      font-size: 14px;
      line-height: 1.5;
      white-space: pre-line;
    }
    button {
      background-color: #ccc;
      color: #000;
      border: none;
      cursor: pointer;
      padding: 10px 20px;
      margin-right: 10px;
      font-size: 14px;
    }
    button:hover {
      background-color: #bbb;
    }
    .button-row {
      display: flex;
      align-items: center;
      margin: 10px 0;
    }
    .info-row {
      display: flex;
      align-items: center;
      gap: 15px;
      margin: 10px 0;
    }
    .copy-msg {
      color: green;
      font-weight: bold;
      display: none;
      margin-left: 10px;
    }
    span.gr {
      color: green;
      font-weight:bold;
    }
    span.re {
      color:red;
      font-weight:bold;
    }
  </style>
</head>
<body>

  <div class="info-row">
    <label><input type="radio" name="plec" value="M" checked> M</label>
    <label><input type="radio" name="plec" value="K"> K</label>
    <input type="number" id="wiek" placeholder="Wiek">
  </div>

  <select id="chorobaSelect" onchange="wstawOpisChoroby()">
  <option value="">-- wybierz --</option>
    
    <option value="standard">Standard</option>
  <optgroup label="ü´Å Uk≈Çad oddechowy">
    <option value="infekcja">Infekcja dr√≥g oddechowych</option>
    <option value="astma">Astma</option>
    <option value="pochp">POChP</option>
  </optgroup>

  <optgroup label="‚ù§Ô∏è Uk≈Çad sercowo-naczyniowy">
    <option value="bol_klatki">B√≥l w klatce piersiowej</option>
    <option value="nadcisnienie">Nadci≈õnienie tƒôtnicze</option>
    <option value="niewydolnosc_serca">Niewydolno≈õƒá serca</option>
    <option value="obrzek_nog">Obrzƒôk n√≥g</option>
  </optgroup>

  <optgroup label="üçΩ Uk≈Çad pokarmowy">
    <option value="biegunka">Biegunka</option>
    <option value="bol_brzucha">B√≥l brzucha</option>
    <option value="dna_moczanowa">Dna moczanowa</option>
    <option value="wymioty">Wymioty</option>
    <option value="zapalenie_jamy_ustnej">Zapalenie jamy ustnej</option>
  </optgroup>

  <optgroup label="üß† Uk≈Çad nerwowy">
    <option value="bol_glowy">B√≥l g≈Çowy</option>
    <option value="rwa_kulszowa">Rwa kulszowa</option>
    <option value="zawroty_glowy">Zawroty g≈Çowy</option>
  </optgroup>

  <optgroup label="üßç‚Äç‚ôÇÔ∏è Uk≈Çad ruchu / miƒô≈õniowo-szkieletowy">
    <option value="bol_kregoslupa">B√≥l krƒôgos≈Çupa</option>
    <option value="bol_szyi">B√≥l karku</option>
  </optgroup>

  <optgroup label="üëÇ NarzƒÖdy zmys≈Ç√≥w">
    <option value="bol_ucha">B√≥l ucha</option>
    <option value="zapalenie_oka">Zapalenie oka</option>
  </optgroup>

  <optgroup label="üßñ‚Äç‚ôÇÔ∏è Dermatologia">
    <option value="alergia_skory">Alergiczne zapalenie sk√≥ry</option>
    <option value="azs">Atopowe zapalenie sk√≥ry</option>
    <option value="oparzenie_sloneczne">Oparzenie s≈Çoneczne</option>
    <option value="opryszczka">Opryszczka</option>
    <option value="pokrzywka">Pokrzywka</option>
    <option value="polpasiec">P√≥≈Çpasiec</option>
    <option value="roza">R√≥≈ºa</option>
  </optgroup>

  <optgroup label="üßë‚Äçü¶≤ Uk≈Çad moczowo-p≈Çciowy">
    <option value="cewnikowanie">Cewnikowanie</option>
    <option value="kolka_nerkowa">Kolka nerkowa</option>
    <option value="zapalenie_nerek">Ostre odmiedniczkowe zapalenie nerek</option>
    <option value="zapalenie_pecherza">Zapalenie pƒôcherza</option>
  </optgroup>

  <optgroup label="ü¶† Immunologia i ukƒÖszenia">
    <option value="alergia">Alergia</option>
    <option value="ugryzienie_kleszcz">Ugryzienie przez kleszcza</option>
    <option value="ugryzienie_kot">Ugryzienie przez kota</option>
    <option value="ugryzienie_owad">Ugryzienie przez owada</option>
    <option value="ugryzienie_pies">Ugryzienie przez psa</option>
  </optgroup>

  <optgroup label="üß™ Metabolizm i endokrynologia">
    <option value="hiperglikemia">Hiperglikemia</option>
  </optgroup>

  <optgroup label="‚ö∞ Inne / stany nag≈Çe">
    <option value="zgon">Zgon</option>
  </optgroup>
</select>
<div id="infekcjaObjawy" style="display:none; padding: 10px; background:#f4f4f4; margin-top: 10px;">
  <strong>Objawy infekcji dr√≥g oddechowych:</strong><br>
  <label><input type="checkbox" name="objInf" value="dreszcze"> Dreszcze i nocne poty</label><br>
  <label><input type="checkbox" name="objInf" value="bole_miesni"> B√≥le miƒô≈õni</label><br>
  <label><input type="checkbox" name="objInf" value="duszno≈õƒá"> Duszno≈õƒá (spocz./wysi≈Çkowa)</label><br>
  <label><input type="checkbox" name="objInf" value="swisty"> ≈öwisty przy oddychaniu</label><br>
  <label><input type="checkbox" name="objInf" value="bol_lukow"> B√≥l w okolicy ≈Çuk√≥w ≈ºebrowych</label><br>
  <label><input type="checkbox" name="objInf" value="oslabienie"> Og√≥lne os≈Çabienie</label><br>
  <label><input type="checkbox" name="objInf" value="bol_gardla"> B√≥l gard≈Ça</label><br>
  <label><input type="checkbox" name="objInf" value="kaszel_suchy"> Kaszel suchy</label><br>
  <label><input type="checkbox" name="objInf" value="kaszel_mokry"> Kaszel mokry</label><br>
  <label><input type="checkbox" name="objInf" value="wydzielina_biala"> Wydzielina bia≈Ça/przezroczysta</label><br>
  <label><input type="checkbox" name="objInf" value="wydzielina_zolta"> Wydzielina ≈º√≥≈Çta</label><br>
  <label><input type="checkbox" name="objInf" value="wydzielina_zielona"> Wydzielina zielona</label><br>
  <label><input type="checkbox" name="objInf" value="katar"> Katar</label><br>
  <label>Temperatura (¬∞C): <input type="number" id="tempInf" style="width:60px;"></label><br>
</div>

  <div id="astmaObjawy" style="display:none; padding: 10px; background:#eef; margin-top: 10px;">
  <strong>Objawy astmy:</strong><br>
  <label><input type="checkbox" name="objastma" value="napad" data-label="napad duszno≈õci"> Napad duszno≈õci</label><br>
  <label><input type="checkbox" name="objastma" value="gwizdy" data-label="≈õwiszczƒÖcy oddech"> ≈öwisty</label><br>
  <label><input type="checkbox" name="objastma" value="suchy_kaszel" data-label="kaszel suchy"> Kaszel suchy</label><br>
  <label>Temperatura (¬∞C): <input type="number" id="tempastma" style="width:60px;"></label><br>
</div>
  
   <textarea id="chorobaOpis" placeholder="Tu pojawi siƒô opis..." readonly></textarea>

  <div class="button-row">
    <button onclick="wstawOpisChoroby()">Generuj opis</button>
    <button onclick="resetForm()">Wyczy≈õƒá</button>
    <button onclick="kopiujOpis()">Kopiuj opis</button>
    <span id="copyMsg" class="copy-msg">‚úì Skopiowano!</span>
  </div>

 <details id="ekgDetails">
  <summary onclick="scrollToEkg()">Zasady opisu EKG</summary>
<table style="border-collapse: collapse; width: 100%; font-family: sans-serif;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th style="border: 1px solid #ccc; padding: 8px; text-align: left;">Kryterium</th>
      <th style="border: 1px solid #ccc; padding: 8px; text-align: left;">Opis</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border: 1px solid #ccc; padding: 8px;">Rytm zatokowy</td>
      <td style="border: 1px solid #ccc; padding: 8px;">Za≈Çamki P <span class="gr">II+</span> oraz <span class="re">aVR-</span></td>
    </tr>
    <tr>
      <td style="border: 1px solid #ccc; padding: 8px;">O≈õ serca</td>
      <td style="border: 1px solid #ccc; padding: 8px;">
        Prawogram: <span class="gr">I+  aVF+</span> lub <span class="gr">I+</span> <span class="re">aVF-</span>  <span class="gr">II+</span><br>
        Lewogram: <span class="gr">I+</span>  <span class="re">aVF- II-</span><br>
        Prawogram: <span class="re">I-</span>  <span class="gr">aVF+</span><br>
        O≈õ nieokre≈õlona: <span class="re">I-  aVF-</span>
      </td>
    </tr>
        <tr>
      <td style="border: 1px solid #ccc; padding: 8px;">QRS</td>
      <td style="border: 1px solid #ccc; padding: 8px;">
        WƒÖskie: <span class="re"><3 ma≈Çe kratki</span> <br>
        Szerokie: <span class="re">>3 ma≈Çe kratki</span>
      </td>
    </tr>
    <tr style="background-color:#fff6f6;">
      <td style="border: 1px solid #ccc; padding: 8px;">Blok p-k I stopnia</td>
      <td style="border: 1px solid #ccc; padding: 8px;">Odstƒôp PQ stale <strong style="color:red;">&gt;200ms</strong> (5 ma≈Çych kratek)</td>
    </tr>
    <tr style="background-color:#fff6f6;">
      <td style="border: 1px solid #ccc; padding: 8px;">Blok p-k II stopnia</td>
      <td style="border: 1px solid #ccc; padding: 8px;">
        Typ I: wyd≈Çu≈ºajƒÖcy siƒô PQ, a≈º do wypadniƒôcia QRS<br>
        Typ II: sta≈Çy PQ, okresowo wypada QRS
      </td>
    </tr>
    <tr style="background-color:#fff6f6;">
      <td style="border: 1px solid #ccc; padding: 8px;">Blok p-k III stopnia</td>
      <td style="border: 1px solid #ccc; padding: 8px;">Zmienny czas PQ, r√≥≈ºna morfologia QRS, rytm kom√≥r wolniejszy od przedsionk√≥w</td>
    </tr>
    <tr style="background-color:#ffeade;">
      <td style="border: 1px solid #ccc; padding: 8px;">RBBB / LBBB</td>
      <td style="border: 1px solid #ccc; padding: 8px;">
        QRS <strong style="color:red;">&ge; 120ms</strong> (3 ma≈Çe kratki): 
        <a href="https://www.poz1.pl/jednostki/e411bae1-653c-44da-9a13-9588a33a3c4c" target="_blank">LINK</a>
      </td>
    </tr>
    <tr style="background-color:#fff8de;">
      <td style="border: 1px solid #ccc; padding: 8px;">LAH</td>
      <td style="border: 1px solid #ccc; padding: 8px;">QRS <strong style="color:green;">&lt; 120ms;</strong> Lewogram</td>
    </tr>
    <tr style="background-color:#fff8de;">
      <td style="border: 1px solid #ccc; padding: 8px;">LPH</td>
      <td style="border: 1px solid #ccc; padding: 8px;">QRS <strong style="color:green;">&lt; 120ms;</strong> Prawogram</td>
    </tr>
    <tr style="background-color:#fff6f6;">
      <td style="border: 1px solid #ccc; padding: 8px;">Zahamowanie zatokowe</td>
      <td style="border: 1px solid #ccc; padding: 8px;">Brak za≈Çamka P w okresie d≈Çu≈ºszym ni≈º 2 poprzedzajƒÖce odstƒôpy PP</strong>, przy czym <strong>pauza nie jest wielokrotno≈õciƒÖ</strong> odstƒôpu PP</td>
    </tr>
    <tr style="background-color:#fff6f6;">
      <td style="border: 1px solid #ccc; padding: 8px;">Blok z-p typu I</td>
      <td style="border: 1px solid #ccc; padding: 8px;">Stopniowe skracanie odstƒôp√≥w PP z wypadniƒôciem jednego z za≈Çamk√≥w P</strong>, przerwa stanowi &lt;2 poprzednich PP</td>
    </tr>
   <tr style="background-color:#fff6f6;">
      <td style="border: 1px solid #ccc; padding: 8px;">Blok z-p typu II</td>
      <td style="border: 1px solid #ccc; padding: 8px;"><strong>Wypadanie za≈Çamka P</strong> 2:1 lub 3:1; <strong>pauza stanowi wielokrotno≈õƒá</strong> poprzednich PP</td>
    </tr>
  </tbody>
</table>
  </details>
    <script>
    const opisTemp = `\n\nTemp. st C, BP / mmHg, HR /min, SpO2 %.\n`;
    const opisBadanieBase = {
      M: `Stan og√≥lny dobry, pacjent wydolny krƒÖ≈ºeniowo-oddechowo, w kontakcie logicznym. Akcja serca miarowa, bez wyra≈∫nie s≈Çyszalnych szmer√≥w patologicznych. Szmer pƒôcherzykowy symetryczny obustronnie nad polami p≈Çucnymi. Brzuch miƒôkki, niebolesny, bez opor√≥w patologicznych, bez objaw√≥w otrzewnowych. Perystaltyka zachowana. Objaw Blumberga ujemny. Wƒôz≈Çy ch≈Çonne szyjne niewyczuwalne w badaniu palpacyjnym.`,
      K: `Stan og√≥lny dobry, pacjentka wydolna krƒÖ≈ºeniowo-oddechowo, w kontakcie logicznym. Akcja serca miarowa, bez wyra≈∫nie s≈Çyszalnych szmer√≥w patologicznych. Szmer pƒôcherzykowy symetryczny obustronnie nad polami p≈Çucnymi. Brzuch miƒôkki, niebolesny, bez opor√≥w patologicznych, bez objaw√≥w otrzewnowych. Perystaltyka zachowana. Objaw Blumberga ujemny. Wƒôz≈Çy ch≈Çonne szyjne niewyczuwalne w badaniu palpacyjnym.`
    };
    const opisNeurologiczne = `≈πrenice r√≥wne, symetryczne, prawid≈Çowo reagujƒÖce na ≈õwiat≈Ço, bez oczoplƒÖsu. Ruchy ga≈Çek ocznych zachowane w p≈Çaszczy≈∫nie poziomej i pionowej. Czucie w obrƒôbie twarzy zachowane, ruchy jƒôzyka zachowane, mimika symetryczna. Ruchy g≈Çowy i ramion zachowane. Ruchy jƒôzyka zachowane. Si≈Ça miƒô≈õniowa L=P. Pr√≥ba palec nos ujemna. Pr√≥ba Romberga ujemna. Brak objaw√≥w oponowych.`;
    const opisEKG = `\nEKG - rytm serca zatokowy, miarowy o czƒôsto≈õci /min, o≈õ serca po≈õrednia. Bez wyra≈∫nie widocznych specyficznych zmian odcinka ST-T.\n`;
    const zaleceniaStale = `Ambulatoryjnie podano: xxxx\n\nZalecenia:\nxxxx\nW badaniu nie stwierdzono ewidentnych cech ostrego stanu zagro≈ºenia ≈ºycia. Zalecono obserwacjƒô i kontakt z lekarzem w razie braku poprawy, pogorszenia stanu zdrowia lub wystƒÖpienia objaw√≥w alarmowych (np. nasilajƒÖcy siƒô b√≥l, gorƒÖczka, trudno≈õci w oddychaniu, wymioty, zaburzenia ≈õwiadomo≈õci) o kt√≥rych poinformowano pacjenta. Ponadto przekazano informacjƒô o ryzyku zwiƒÖzanym z nieprzestrzeganiem zalece≈Ñ lekarskich.`;
    const zaleceniaSpecyficzne = {
      astma: `Ambulatoryjnie podano: xxxx\n\nZalecenia:\nxxxx\nW badaniu nie stwierdzono ewidentnych cech ostrego stanu zagro≈ºenia ≈ºycia. Zalecono obserwacjƒô i w przypadku ciƒô≈ºkiego zaostrzenia (duszno≈õci w spoczynku, m√≥wienia pojedynczymi s≈Çowami, konieczno≈õci przyjmowania przygarbionej pozycji cia≈Ça bƒÖd≈∫ towarzyszƒÖcego uczucia senno≈õci) wezwanie zespo≈Çu ratownictwa medycznego lub pilny kontakt z lekarzem. W razie braku poprawy stanu zdrowia zalecono wizytƒô u lekarza POZ. Ponadto przekazano informacjƒô o ryzyku zwiƒÖzanym z nieprzestrzeganiem zalece≈Ñ lekarskich.`,
      infekcja: `Ambulatoryjnie podano: xxxx\n\nZalecenia:\nxxxx\nW badaniu nie stwierdzono ewidentnych cech ostrego stanu zagro≈ºenia ≈ºycia. Zalecono obserwacjƒô i w razie pogorszenia siƒô dolegliwo≈õci, w szczeg√≥lno≈õci w przypadku wystƒÖpienia wysokiej gorƒÖczki utrzymujƒÖcej siƒô po 3 dniach od rozpoczƒôcia leczenia, trudno≈õci w oddychaniu, silnego kaszlu utrudniajƒÖcego oddychanie, zwiƒôkszenia nasilenia duszno≈õci lub braku poprawy w przeciƒÖgu 3 dni od wdro≈ºenia terapii zalecono wizytƒô u lekarza POZ. W przypadku wystƒÖpienia objaw√≥w alarmowych (np. silne duszno≈õci, zawroty g≈Çowy, trudno≈õci w m√≥wieniu, zaburzenia ≈õwiadomo≈õci) o kt√≥rych poinformowano pacjenta zalecono pilny kontakt z lekarzem lub wezwanie zespo≈Çu ratownictwa medycznego. Ponadto przekazano informacjƒô o ryzyku zwiƒÖzanym z nieprzestrzeganiem zalece≈Ñ lekarskich.`,
      obrzek_nog: `\n\nZalecenia:\nxxxx\nPacjent poinformowany o konieczno≈õci przestrzegania zalece≈Ñ i pilnej konsultacji w poradni specjalistycznej celem dalszej diagnostyki (wykonania CUS) i leczenia. W badaniu nie stwierdzono ewidentnych cech ostrego stanu zagro≈ºenia ≈ºycia, w stanie og√≥lnym dobrym, bez cech zatorowo≈õci p≈Çucnej. Zalecono obserwacjƒô, oszczƒôdzajƒÖcy tryb ≈ºycia, unikanie d≈Çugotrwa≈Çego unieruchomienia i nawodnienie. Poinformowano o objawach alarmowych (nasilajƒÖcy siƒô b√≥l, obrzƒôk, zaczerwienienie, duszno≈õƒá, b√≥l w klatce piersiowej, krwioplucie, omdlenie), wymagajƒÖcych natychmiastowego kontaktu z lekarzem lub wezwania pogotowia. `,
    
    };
    const badaniaSpecyficzne = {
      infekcja: `Stan og√≥lny dobry, pacjentka wydolna krƒÖ≈ºeniowo-oddechowo, w kontakcie logicznym. Akcja serca miarowa, bez wyra≈∫nie s≈Çyszalnych szmer√≥w patologicznych. Pojedyncze ≈õwisty i furczenia nad ca≈Çymi p≈Çucami. Szmer pƒôcherzykowy po stronie prawej/lewej szmer os≈Çabiony, w rzucie p≈Çata dolnego liczne trzeszczenia. Po stronie lewej/prawej szmer pƒôcherzykowy prawid≈Çowy. Gard≈Ço nieznacznie przekrwione, migda≈Çki schowane za ≈Çukami podniebiennymi, bez widocznej tre≈õci ropnej. Wƒôz≈Çy ch≈Çonne szyjne wyczuwalne w badaniu palpacyjnym. Objawy oponowe ujemne.`,
      pochp: `Stan og√≥lny dobry, pacjentka wydolna krƒÖ≈ºeniowo-oddechowo, w kontakcie logicznym. Akcja serca miarowa, bez wyra≈∫nie s≈Çyszalnych szmer√≥w patologicznych. Pojedyncze furczenia nad ca≈Çymi polami p≈Çucnymi, szmer pƒôcherzykowy os≈Çabiony. Gard≈Ço nieznacznie przekrwione, migda≈Çki schowane za ≈Çukami podniebiennymi, bez widocznej tre≈õci ropnej. Ko≈Ñczyny dolne bez obrzƒôk√≥w. Brzuch miƒôkki, niebolesny, bez opor√≥w patologicznych, bez objaw√≥w otrzewnowych. Perystaltyka zachowana.`,
      rwa_kulszowa: `Objaw Lasegue‚Äôa dodatni po stronie XXXX, ograniczenie odwiedzenia ko≈Ñczyny, zachowana si≈Ça miƒô≈õniowa.`,
      bol_kregoslupa: `Objaw Lasegue‚Äôa obutronnie ujemny, czucie i si≈Ça w ko≈Ñczynach dolnych prawid≈Çowe.`,
      obrzek_nog: `Wƒôz≈Çy ch≈Çonne pachwinowe niewyczuwalne palpacyjnie. Ko≈Ñczyna obrzƒôkniƒôta, ucieplona oraz zaczerwieniona poni≈ºej stawu kolanowego ≈ºy≈Çy powierzchowne niewidoczne. ≈ªy≈Çy powierzchowne nadmiernie wype≈Çnione, bez zmiany po elewacji ko≈Ñczyny do 45 stopni. Obw√≥d podudzia 3 cm wiƒôkszy ni≈º lewego. Bolesno≈õƒá palpacyjna, objaw Homansa dodatni. Nieznaczne zasinienie stopy.`,
      dna_moczanowa: `Staw ≈õr√≥dstopno-paliczkowy I stopy prawej silnie obrzƒôkniƒôty, sk√≥ra nad stawem zaczerwieniona, l≈õniƒÖca, ucieplona, bolesno≈õƒá przy dotyku.`,
      kolka_nerkowa: `Tkliwo≈õƒá w okolicy lƒôd≈∫wiowej, brak objaw√≥w otrzewnowych, objaw Goldflama dodatni po stronie prawej.`,
      polpasiec: `W obrƒôbie dermatomu Th12 wysypka grudkowo-pƒôcherzykowa na rumieniowym pod≈Ço≈ºu. Sk√≥ra na pozosta≈Çych czƒô≈õciach cia≈Ça czysta, bez nowych zmian. Objawy oponowe ujemne.`,
      zapalenie_nerek: `Badanie okolicy lƒôd≈∫wiowej: dodatni objaw Goldflama po stronie lewej, tkliwo≈õƒá palpacyjna.`,
      zapalenie_oskrzeli: `P≈Çuca - pojedyncze ≈õwisty i furczenia nad ca≈Çymi p≈Çucami, opukowo nad polami p≈Çucnymi odg≈Ços jawny. Gard≈Ço nieznacznie przekrwione, migda≈Çki schowane za ≈Çukami podniebiennymi, bez widocznej tre≈õci ropnej. Objawy oponowe ujemne.`,
      zapalenie_pluc: `P≈Çuca ‚Äì po stronie prawej szmer pƒôcherzykowy os≈Çabiony, w rzucie p≈Çata dolnego liczne trzeszczenia, po stronie lewej szmer pƒôcherzykowy prawid≈Çowy. Opukowo nad p≈Çatem dolnym odg≈Ços opukowy st≈Çumiony, nad pozosta≈ÇƒÖ czƒô≈õciƒÖ p≈Çuca odg≈Ços opukowy jawny. Gard≈Ço nieznacznie przekrwione, migda≈Çki schowane za ≈Çukami podniebiennymi, bez widocznej tre≈õci ropnej. Wƒôz≈Çy ch≈Çonne szyjne wyczuwalne w badaniu palpacyjnym. Objawy oponowe ujemne.`,
      bol_gardla: `Gard≈Ço ‚Äì zaczerwienione, migda≈Çki rozpulchnione, bez nalotu. Wƒôz≈Çy ch≈Çonne szyjne i pod≈ºuchwowe powiƒôkszone do 5-10 mm, tkliwe podczas palpacji oraz przesuwalne wzglƒôdem pod≈Ço≈ºa.`,
      niewydolnosc_serca: `Stan og√≥lny dobry, pacjent wydolny krƒÖ≈ºeniowo-oddechowo, w kontakcie logicznym. Akcja serca miarowa, bez wyra≈∫nie s≈Çyszalnych szmer√≥w patologicznych. P≈Çuca ‚Äì szmer pƒôcherzykowy symetryczny obustronnie nad g√≥rnƒÖ i ≈õrodkowƒÖ czƒô≈õciƒÖ, w dolnych partiach p≈Çuc pojedyncze trzeszczenia. rzuch miƒôkki, niebolesny, bez opor√≥w patologicznych, bez objaw√≥w otrzewnowych. Perystaltyka zachowana. Obrzƒôki ciastowate do po≈Çowy obu podudzi. Zlecono morflogiƒô, s√≥d, potas, kreatyninƒô, d-dimery, ewentualnie NT-pro-BNP i BNP.`,
      hiperglikemia: `Glikemia oznaczona glukometrem: XX mg/dl.`,
      wymioty: `Glikemia oznaczona glukometrem: XX mg/dl.`,
      zawroty_glowy: `Glikemia oznaczona glukometrem: XX mg/dl.`,
      bol_glowy: `Glikemia oznaczona glukometrem: XX mg/dl.`,
      nadcisnienie: `Stan og√≥lny dobry, pacjent wydolny krƒÖ≈ºeniowo-oddechowo, w kontakcie logicznym. Akcja serca miarowa, bez wyra≈∫nie s≈Çyszalnych szmer√≥w patologicznych. Szmer pƒôcherzykowy symetryczny obustronnie nad polami p≈Çucnymi. \n≈πrenice r√≥wne, symetryczne, prawid≈Çowo reagujƒÖce na ≈õwiat≈Ço. Bez ≈õwiat≈Çowstrƒôtu. Ruchy ga≈Çek ocznych zachowane w p≈Çaszczy≈∫nie poziomej i pionowej, oczoplƒÖs nieobecny. Czucie w obrƒôbie twarzy zachowane. Pacjent prawid≈Çowo odbiera bod≈∫ce z narzƒÖdu wƒôchu i smaku. Ruchy jƒôzyka zachowane, ≈Çuki gard≈Çowe symetryczne. Mimika jednakowa po obu stronach twarzy. Ruchy g≈Çowy i ramion zachowane. Si≈Ça miƒô≈õniowa L=P. Pr√≥ba palec nos ujemna. Pr√≥ba Romberga ujemna.`,
    };
    const opisyChorob = {
  standard: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu zaczerwienienia i ≈Çzawienia oka. W wywiadzie brak urazu.`,
      
  astma: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu napadu duszno≈õci. W wywiadzie astma oskrzelowa od X lat. Pajent zg≈Çasza duszno≈õƒá spoczynkowa/wysi≈Çkowa, ≈õwiszczƒÖcy oddech, kaszel suchy/mokry/kolor plwociny, uczucie ucisku w klatce piersiowej, bez zaburze≈Ñ ≈õwiadomo≈õci, omdle≈Ñ. Pacjent nie mo≈ºe/mo≈ºe m√≥wiƒá ca≈Çymi zdaniami. Regularnie stosuje leki na astmƒô. Nie przyjmowa≈Ç/przyjmowa≈Ç dodatkowƒÖ dawkƒô leku - salbutamolu. Dotychczas bez zaostrze≈Ñ/z zaostrzeniem x miesiƒôcy temu.`,

  niewydolnosc_serca: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu wystƒôpujƒÖcej od d≈Çu≈ºszego czasu pogorszonej tolerancji wysi≈Çku oraz obrzƒôk√≥w ko≈Ñczyn dolnych. Choruje od 10 lat na nadci≈õnienie tƒôtnicze. Choroby p≈Çuc oraz inne dolegliwo≈õci neguje. Nie wystƒôpujƒÖ u niego objawy infekcyjne.`,

  infekcja: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu objaw√≥w infekcji od X dni. Pacjent zg≈Çasza dreszcze, poty, b√≥le miƒô≈õni, duszno≈õƒá/szybki oddech/≈õwisty przy oddychaniu, b√≥l w okolicy ≈Çuk√≥w ≈ºebrowych, og√≥lne os≈Çabienie, b√≥l gard≈Ça, kaszel suchy/mokry/odkrztusza zielonƒÖ wydzielinƒô, katar. Chory mierzy≈Ç temperaturƒô cia≈Ça - st C/nie mierzy≈Ç temperatury cia≈Ça. `,

  pochp: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu duszno≈õci i nasilonego kaszlu. W wywiadzie POChP od X lat, przewlek≈Çy nikotynizm. Pacjent zg≈Çasza nasilenie duszno≈õci przy m√≥wieniu/w spoczynku/przy minimalnym wysi≈Çku, kaszel suchy/mokry/odkrztusza wiƒôcej przezroczystej/zielonej wydzieliny/, objawy infekcji - b√≥l gard≈Ça, katar, wysokƒÖ temperaturƒô cia≈Ça - st C/nie mierzy≈Ç temperatury cia≈Ça. Nie zg≈Çasza zaburze≈Ñ ≈õwiadomo≈õci, b√≥l√≥w w klatce piersiowej ani obrzƒôk√≥w obwodowych. Nie korzysta z domowej tlenoterapii. Dotychczas bez zaostrze≈Ñ/X zaostrze≈Ñ, bez hospitalizacji. Podaje regularne/nieregularne przyjmowanie lek√≥w`,

  bol_klatki: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu w klatce piersiowej. W wywiadzie b√≥l niezwiƒÖzany z wysi≈Çkiem, nasilajƒÖcy siƒô przy g≈Çƒôbokim wdechu.`,

  nadcisnienie: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu podwy≈ºszonego ci≈õnienia tƒôtniczego. W wywiadzie b√≥le g≈Çowy, brak duszno≈õci.`,

  rwa_kulszowa: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu promieniujƒÖcego do ko≈Ñczyny dolnej. W wywiadzie nasilenie przy schylaniu.`,

  zawroty_glowy: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu zawrot√≥w g≈Çowy. W wywiadzie brak zaburze≈Ñ mowy, widzenia, niedow≈Çad√≥w.`,

  bol_kregoslupa: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu trwajƒÖcego od 2 dni b√≥lu w odc. LS krƒôgos≈Çupa bez towarzyszƒÖcego promieniowania do ko≈Ñczyn dolnych. Uraz neguje. Nie gorƒÖczkuje. Mikcja i wypr√≥≈ºnienia sƒÖ prawid≈Çowe. Zaburzenia czucia, wystƒôpowanie b√≥lu w nocy oraz utratƒô masy cia≈Ça pacjent neguje. Leczenie immunosupresyjne oraz cukrzycƒô neguje. Wywiad w kierunku chor√≥b nowotworowych ujemny. Inne dolegliwo≈õci, w tym alarmowe, pacjent neguje.`,

  bol_szyi: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu karku. W wywiadzie napiƒôcie miƒô≈õni szyi, ograniczona ruchomo≈õƒá.`,

  bol_ucha: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu ucha. W wywiadzie uczucie zatkania, brak gorƒÖczki.`,

  zapalenie_oka: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu zaczerwienienia i ≈Çzawienia oka. W wywiadzie brak urazu.`,

  biegunka: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu trwajƒÖcego od 2 dni b√≥lu brzucha, utrzymujƒÖcych siƒô wymiot√≥w tre≈õciƒÖ pokarmowƒÖ ‚Äì 2x/dobƒô, biegunki ‚Äì ok 6x/dobƒô ‚Äì bez domieszki krwi i ≈õluzu oraz stanu podgorƒÖczkowego 37,0¬∞C. `,

  bol_brzucha: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu trwajƒÖcego od 2 tygodni b√≥lu/uczucia dyskomfortu w nadbrzuszu, wystƒôpujƒÖcego najczƒô≈õciej po spo≈ºyciu pokarmu, albo wcze≈õnie rano. B√≥l nie wybudza pacjenta ze snu. Mƒô≈ºczyzna nie wymiotuje, oddaje prawid≈Çowe stolce. Neguje niezamierzony spadek masy cia≈Ça w ostatnich 3 miesiƒÖcach. Krwi na papierze toaletowym nie zauwa≈ºa`,

  dna_moczanowa: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu i obrzƒôku stawu ≈õr√≥dstopno-paliczkowego. W wywiadzie znana hiperurykemia.`,

  wymioty: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu wymiot√≥w. W wywiadzie b√≥l brzucha i brak apetytu.`,

  zapalenie_jamy_ustnej: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu jamy ustnej i trudno≈õci w po≈Çykaniu.`,

  cewnikowanie: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu zatrzymania moczu. Zakwalifikowano do cewnikowania.`,

  kolka_nerkowa: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu silnego b√≥lu w okolicy lƒôd≈∫wiowej, promieniujƒÖcego do pachwiny.`,

  zapalenie_nerek: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu gorƒÖczki i b√≥lu w okolicy lƒôd≈∫wiowej. W badaniu dodatni objaw Goldflama.`,

  zapalenie_pecherza: `00-letnia pacjentka zg≈Çosi≈Ça siƒô do NPL z powodu pieczenia przy mikcji. W wywiadzie czƒôstomocz, brak gorƒÖczki.`,

  alergia: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu wysypki i ≈õwiƒÖdu sk√≥ry. W wywiadzie kontakt z alergenem.`,

  ugryzienie_kleszcz: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL po ukƒÖszeniu przez kleszcza. Miejsce ukƒÖszenia bez rumienia wƒôdrujƒÖcego.`,

  ugryzienie_kot: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL po ugryzieniu przez kota. Rana oczyszczona, brak cech zaka≈ºenia miejscowego.`,

  ugryzienie_owad: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL po ugryzieniu przez owada. Miejsce ugryzienia zaczerwienione, obrzƒôk.`,

  ugryzienie_pies: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL po pogryzieniu przez psa. Rana oczyszczona, brak gorƒÖczki.`,

  hiperglikemia: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu wysokiego poziomu glukozy we krwi. W wywiadzie cukrzyca typu 2.`,

  bol_glowy: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu g≈Çowy. W wywiadzie b√≥l o charakterze napiƒôciowym, bez objaw√≥w towarzyszƒÖcych typu gorƒÖczka, wymioty, zaburzenia widzenia.`,
  
  azs: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu plamistej wysypki, silnego ≈õwiƒÖdu, sucho≈õci i pƒôkania sk√≥ry. Zg≈Çasza, i≈º podobne objawy wystƒôpowa≈Çy u niego w przesz≈Ço≈õci. Inne dolegliwo≈õci neguje. W wywiadzie rodzinnym ‚Äì atopowe zapalenie sk√≥ry.`,

  alergia_skory: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu wwystƒÖpienia zmian na ow≈Çosionej sk√≥rze g≈Çowy, kt√≥re wiƒÖ≈ºe z niedawnym u≈ºyciem farby do w≈Ços√≥w. Innych dolegliwo≈õci nie podaje. Nie podr√≥≈ºowa≈Ç w ostatnim czasie, nie przyjmowa≈Ç nowych lek√≥w. Zaprzecza ugryzieniom owad√≥w i nara≈ºeniu na wysokie temperatury.`,

  oparzenie_sloneczne: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu b√≥lu i zaczerwienienia w okolicy sk√≥ry karku, ramion oraz podudzi. W dniu wczorajszym spƒôdzi≈Ç du≈ºo czasu na s≈Ço≈Ñcu, nie u≈ºywajƒÖc kremu do opalania.`,

  opryszczka: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu wystƒôpujƒÖcej od wczoraj swƒôdzƒÖcej zmiany, o typie pƒôcherzykowym, po≈Ço≈ºonej na g√≥rnej wardze.`,

  polpasiec: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu trwajƒÖcego od wczoraj stanu podgorƒÖczkowego 37,5¬∞C oraz jednostronnej, bolesnej, swƒôdzƒÖcej wysypki o typie grudkowo-pƒôcherzykowym w obrƒôbie dermatomu Th12.`,

  roza: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu palƒÖcego b√≥lu lewej ko≈Ñczyny dolnej oraz trwajƒÖcej od wczoraj gorƒÖczki 38¬∞C i z≈Çego samopoczucia. Katar, kaszel i inne dolegliwo≈õci neguje. `,

  obrzek_nog: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu powiƒôkszenia siƒô obrzƒôk√≥w ko≈Ñczyn dolnych w przeciƒÖgu ostatniego tygodnia. Innych dolegliwo≈õci nie podaje. Od 2 lat choruje na nadci≈õnienie tƒôtnicze. Neguje przyjmowanie nowych lek√≥w w ostatnim czasie i modyfikacjƒô dawkowania leczenia sta≈Çego. Wystƒôpowanie objaw√≥w infekcyjnych i chor√≥b p≈Çuc neguje.`,

  pokrzywka: `00-letni pacjent zg≈Çosi≈Ç siƒô do NPL z powodu plamistej wysypki na sk√≥rze brzucha oraz silnego ≈õwiƒÖdu. Innym dolegliwo≈õciom zaprzecza. Neguje kontakt z substancjami toksycznymi, zmianƒô produkt√≥w do higieny osobistej i ≈õrodk√≥w piorƒÖcych w ostatnim czasie. Nie przyjmowa≈Ç nowych lek√≥w. Neguje ugryzienia owad√≥w, nara≈ºenie na wysokie temperatury i podr√≥≈ºe.`,
      
  zgon: `Stwierdzono zgon. Brak czynno≈õci ≈ºyciowych. Brak akcji serca, brak oddechu, ≈∫renice szerokie, nieruchome, brak reakcji na ≈õwiat≈Ço.`,

};
function getGenderSuffixes(gender) {
  return gender === 'K' ? {
    pacjent: 'pacjentka',
    zglosil_sie: 'zg≈Çosi≈Ça siƒô',
    letni: 'letnia'
  } : {
    pacjent: 'pacjent',
    zglosil_sie: 'zg≈Çosi≈Ç siƒô',
    letni: 'letni'
  };
}
    const dopisekKoncowy = " Inne dolegliwo≈õci neguje. Uczule≈Ñ na leki ‚Äì nie zg≈Çasza.";
function wstawOpisChoroby() {
  const select = document.getElementById('chorobaSelect');
  const choroba = select.value;
  const output = document.getElementById('chorobaOpis');
  const wiek = parseInt(document.getElementById('wiek').value) || 0;
  const gender = document.querySelector('input[name="plec"]:checked').value;
  const suf = getGenderSuffixes(gender);
  const dopisekKoncowy = " Inne dolegliwo≈õci neguje. Uczule≈Ñ na leki ‚Äì nie zg≈Çasza.";

  // Ukryj wszystkie sekcje objaw√≥w
  document.querySelectorAll('div[id$="Objawy"]').forEach(div => div.style.display = 'none');

  // Je≈õli istnieje blok objaw√≥w dla tej choroby ‚Äì poka≈º i generuj z checkbox√≥w
  const objawyDiv = document.getElementById(`${choroba}Objawy`);
  let opis = '';
  if (objawyDiv) {
    objawyDiv.style.display = 'block';

    // wywiad z checkbox√≥w
    const objawy = [...document.querySelectorAll(`input[name="obj${choroba}"]:checked`)]
      .map(x => x.dataset.label);

    const tempField = document.getElementById(`temp${choroba}`);
    const temp = tempField ? tempField.value : '';

    // nag≈Ç√≥wek
    if (wiek < 18 && wiek > 0) {
      const dziecko = gender === 'M' ? 'ch≈Çopcem' : 'dziewczynkƒÖ';
      const przymiotnik = gender === 'M' ? 'letnim' : 'letniƒÖ';
      opis = `Matka/Ojciec z ${wiek}-${przymiotnik} ${dziecko} zg≈Çosi≈Ç/a siƒô do NPL z powodu objaw√≥w ${choroba.replace('_', ' ')}. `;
    } else {
      opis = `${wiek}-${suf.letni} ${suf.pacjent} ${suf.zglosil_sie} do NPL z powodu objaw√≥w ${choroba.replace('_', ' ')}. `;
    }

    if (objawy.length) {
      opis += `${suf.pacjent.charAt(0).toUpperCase() + suf.pacjent.slice(1)} zg≈Çasza: ${objawy.join(', ')}. `;
    }

    if (temp) {
      opis += `Temperatura cia≈Ça w domu: ${temp}¬∞C. `;
    }

    opis += dopisekKoncowy;
  } else {
    // klasyczny szablon
    opis = opisyChorob[choroba] || '';
    if (!opis.endsWith(dopisekKoncowy)) opis += dopisekKoncowy;

    if (wiek < 18 && wiek > 0) {
      const dziecko = gender === 'M' ? 'ch≈Çopcem' : 'dziewczynkƒÖ';
      const przymiotnik = gender === 'M' ? 'letnim' : 'letniƒÖ';
      const wstep = `Matka/Ojciec z ${wiek}-${przymiotnik} ${dziecko} zg≈Çosi≈Ç/a siƒô`;
      opis = opis.replace(/00-letni pacjent zg≈Çosi≈Ç siƒô|00-letnia pacjentka zg≈Çosi≈Ça siƒô/g, wstep);
    } else {
      opis = opis
        .replace(/00-letni|00-letnia/, `${wiek}-${suf.letni}`)
        .replace(/\b(pacjentka|pacjent)\b/, suf.pacjent)
        .replace(/zg≈Çosi≈Ç siƒô|zg≈Çosi≈Ça siƒô/, suf.zglosil_sie);
    }
  }

  // Reszta ‚Äî badanie, EKG, zalecenia (zostajƒÖ bez zmian)
  let badanieOpis = badaniaSpecyficzne[choroba] || opisBadanieBase[gender];

  if (wiek < 16) {
    badanieOpis = badanieOpis
      .replace(/\b(pacjentka|pacjent)\b/g, 'dziecko')
      .replace(/zg≈Çosi≈Ç siƒô|zg≈Çosi≈Ça siƒô/g, 'zg≈Çosi≈Ç/a siƒô');
  } else {
    badanieOpis = badanieOpis
      .replace(/\b(pacjentka|pacjent)\b/g, suf.pacjent)
      .replace(/zg≈Çosi≈Ç siƒô|zg≈Çosi≈Ça siƒô/g, suf.zglosil_sie);
  }

  let opisNeurolog = '';
  if ([
    'rwa_kulszowa', 'zawroty_glowy', 'bol_kregoslupa', 'bol_glowy',
    'bol_karku', 'hiperglikemia', 'ugryzienie_kleszcz', 'ugryzienie_kot',
    'ugryzienie_owad', 'ugryzienie_pies'
  ].includes(choroba)) {
    opisNeurolog = `\n${opisNeurologiczne}`;
  }

  const opisTemp = `\n\nTemp. st C, BP / mmHg, HR /min, SpO2 %.\n`;
  const opisEKG = `\nEKG - rytm serca zatokowy, miarowy o czƒôsto≈õci /min, o≈õ serca po≈õrednia. Bez wyra≈∫nie widocznych specyficznych zmian odcinka ST-T.\n`;

  let zalecenia = zaleceniaSpecyficzne[choroba] || zaleceniaStale;

  const pelnyOpis = `${opis}${opisTemp}${badanieOpis}${opisNeurolog}${opisEKG}${zalecenia}`;
  output.value = pelnyOpis;
}



    function kopiujOpis() {
      const tekst = document.getElementById('chorobaOpis').value;
      const tempTextArea = document.createElement("textarea");
      tempTextArea.value = tekst;
      document.body.appendChild(tempTextArea);
      tempTextArea.select();
      document.execCommand("copy");
      document.body.removeChild(tempTextArea);

      const msg = document.getElementById('copyMsg');
      msg.style.display = 'inline';
      setTimeout(() => msg.style.display = 'none', 2000);
    }

    function resetForm() {
      document.getElementById('chorobaOpis').value = '';
      document.getElementById('chorobaSelect').selectedIndex = 0;
      document.getElementById('wiek').value = '';
      document.querySelector('input[value="M"]').checked = true;
    }
    function scrollToEkg() {
      const el = document.getElementById('ekgDetails');
      setTimeout(() => {
        el.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }, 100); // op√≥≈∫nienie pozwala na rozwiniƒôcie <details>
    }
  </script>
</body>
</html>
